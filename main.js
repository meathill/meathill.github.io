!function(){var t={637:function(t,e,n){var a=n(55);t.exports=function(t){var e,n="",r=t||{};return function(t){(function(){var r=t;if("number"==typeof r.length)for(var i=0,l=r.length;i<l;i++){var s=r[i];n=s.thumbnail?n+'<li class="item has-thumbnail col-md-4 col-sm-6 col-12"'+a.attr("style",a.style("background-image: url("+s.thumbnail+")"),!0,!0)+"><h3><a"+a.attr("href",s.link,!0,!0)+">"+a.escape(null==(e=s.title)?"":e)+"</a></h3></li>":n+'<li class="item no-thumbnail col-md-4 col-sm-6 col-12"><h3><a'+a.attr("href",s.link,!0,!0)+">"+a.escape(null==(e=s.title)?"":e)+"</a></h3><article>"+a.escape(null==(e=s.description)?"":e)+"</article></li>"}else{l=0;for(var i in r){l++;s=r[i];n=s.thumbnail?n+'<li class="item has-thumbnail col-md-4 col-sm-6 col-12"'+a.attr("style",a.style("background-image: url("+s.thumbnail+")"),!0,!0)+"><h3><a"+a.attr("href",s.link,!0,!0)+">"+a.escape(null==(e=s.title)?"":e)+"</a></h3></li>":n+'<li class="item no-thumbnail col-md-4 col-sm-6 col-12"><h3><a'+a.attr("href",s.link,!0,!0)+">"+a.escape(null==(e=s.title)?"":e)+"</a></h3><article>"+a.escape(null==(e=s.description)?"":e)+"</article></li>"}}}).call(this)}.call(this,"list"in r?r.list:"undefined"!=typeof list?list:void 0),n}},55:function(t,e,n){"use strict";var a=Object.prototype.hasOwnProperty;function r(t,e){return Array.isArray(t)?function(t,e){for(var n,a="",i="",l=Array.isArray(e),s=0;s<t.length;s++)(n=r(t[s]))&&(l&&e[s]&&(n=o(n)),a=a+i+n,i=" ");return a}(t,e):t&&"object"==typeof t?function(t){var e="",n="";for(var r in t)r&&t[r]&&a.call(t,r)&&(e=e+n+r,n=" ");return e}(t):t||""}function i(t){if(!t)return"";if("object"==typeof t){var e="";for(var n in t)a.call(t,n)&&(e=e+n+":"+t[n]+";");return e}return t+""}function l(t,e,n,a){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(a?t:t+'="'+t+'"');var r=typeof e;return"object"!==r&&"function"!==r||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=o(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.merge=function t(e,n){if(1===arguments.length){for(var a=e[0],r=1;r<e.length;r++)a=t(a,e[r]);return a}for(var l in n)if("class"===l){var s=e[l]||[];e[l]=(Array.isArray(s)?s:[s]).concat(n[l]||[])}else if("style"===l){s=(s=i(e[l]))&&";"!==s[s.length-1]?s+";":s;var o=i(n[l]);o=o&&";"!==o[o.length-1]?o+";":o,e[l]=s+o}else e[l]=n[l];return e},e.classes=r,e.style=i,e.attr=l,e.attrs=function(t,e){var n="";for(var s in t)if(a.call(t,s)){var o=t[s];if("class"===s){o=r(o),n=l(s,o,!1,e)+n;continue}"style"===s&&(o=i(o)),n+=l(s,o,!1,e)}return n};var s=/["&<>]/;function o(t){var e=""+t,n=s.exec(e);if(!n)return t;var a,r,i,l="";for(a=n.index,r=0;a<e.length;a++){switch(e.charCodeAt(a)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}r!==a&&(l+=e.substring(r,a)),r=a+1,l+=i}return r!==a?l+e.substring(r,a):l}e.escape=o,e.rethrow=function t(e,a,r,i){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&a||i))throw e.message+=" on line "+r,e;var l,s,o,c;try{i=i||n(835).readFileSync(a,{encoding:"utf8"}),l=3,s=i.split("\n"),o=Math.max(r-l,0),c=Math.min(s.length,r+l)}catch(n){return e.message+=" - could not read from "+a+" ("+n.message+")",void t(e,null,r)}l=s.slice(o,c).map((function(t,e){var n=e+o+1;return(n==r?"  > ":"    ")+n+"| "+t})).join("\n"),e.path=a;try{e.message=(a||"Pug")+":"+r+"\n"+l+"\n\n"+e.message}catch(t){}throw e}},835:function(){}},e={};function n(a){var r=e[a];if(void 0!==r)return r.exports;var i=e[a]={exports:{}};return t[a](i,i.exports,n),i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var a in e)n.o(e,a)&&!n.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t=jQuery,e=n.n(t),a=n(637),r=n.n(a);const i="meathill-blogs",l="meathill-latest";class s{constructor(t){this.$el=e()(t.el),this.news=0;let n=localStorage.getItem(i);this.latest=Number(localStorage.getItem(l)),n&&(n=JSON.parse(n),this.render(n)),this.latest||(this.latest=isNaN(Number(this.$el.data("latest")))?this.latest:Number(this.$el.data("latest"))),this.fetch()}fetch(){fetch("https://blog.meathill.com/feed").then((t=>t.text())).then(this.onSuccess.bind(this)).catch(s.onError)}parse(t){t=e()(t);let n=[],a=0,r=/^\w+:(\w+)$/,i=/\?p=(\d+)$/;return t.find("item").each(((t,e)=>{let s={};for(e=e.firstElementChild;e;){s[e.namespaceURI&&e.tagName.match(r)>1?e.tagName.match(r)[1]:e.tagName]=e.textContent.replace(/<a.*>.*?<\/a>/,""),e=e.nextElementSibling}let o=parseInt(s.guid.match(i)[1]);if(0===t){if(o===this.latest)return!1;localStorage.setItem(l,o)}if(o>this.latest&&this.news++,n.push(s),a++,a>5)return!1})),this.news>0&&(this.news=this.news>=5?"5+":this.news,e()("#top-bar").find(".blog").append("<span>"+this.news+"</span>")),n}render(t){this.$el.html(r()({list:t}))}onSuccess(t){let e=this.parse(t),n=JSON.stringify(e);0!==e.length&&(e=e.map((t=>(t.thumbnail=t.thumbnail.replace("//blog.meathill.com/","//qiniu.meathill.com"),t))),localStorage.setItem(i,n),this.render(e))}static onError(t,e,n){}}let o=e()("#top-bar");e()(window).on("scroll",(function(){let t=document.body.scrollTop;o.toggleClass("bg-inverse",t>0);for(let e=c.length-1;e>-1;e--)if(c[e]-t<73&&c[e]-t>-33){o.find("li").eq(e).addClass("active").siblings().removeClass("active");break}}));let c=[];e()("a[name]").each((function(){c.push(e()(this).offset().top)}));new s({el:"#blog-grid"});var u,h,f,m;u=window,h=document,f="ga",u.GoogleAnalyticsObject=f,u.ga=u.ga||function(){(u.ga.q=u.ga.q||[]).push(arguments)},u.ga.l=1*new Date,(m=h.createElement("script")).async=1,m.src="//www.google-analytics.com/analytics.js",document.body.append(m),ga("create","UA-26694288-7","auto"),ga("send","pageview")}()}();