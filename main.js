!function(){var t={637:function(t,e,n){var r=n(55);t.exports=function(t){var e,n="",a=t||{};return function(t){(function(){var a=t;if("number"==typeof a.length)for(var i=0,l=a.length;i<l;i++){var s=a[i];n=s.thumbnail?n+'<div class="blog-item has-thumbnail col-md-4 col-sm-6 col-12"'+r.attr("style",r.style("background-image: url("+s.thumbnail+")"),!0,!0)+"><h3><a"+r.attr("href",s.link,!0,!0)+">"+r.escape(null==(e=s.title)?"":e)+"</a></h3></div>":n+'<div class="blog-item no-thumbnail col-md-4 col-sm-6 col-12"><h3><a'+r.attr("href",s.link,!0,!0)+">"+r.escape(null==(e=s.title)?"":e)+"</a></h3><article>"+r.escape(null==(e=s.description)?"":e)+"</article></div>"}else{l=0;for(var i in a){l++;s=a[i];n=s.thumbnail?n+'<div class="blog-item has-thumbnail col-md-4 col-sm-6 col-12"'+r.attr("style",r.style("background-image: url("+s.thumbnail+")"),!0,!0)+"><h3><a"+r.attr("href",s.link,!0,!0)+">"+r.escape(null==(e=s.title)?"":e)+"</a></h3></div>":n+'<div class="blog-item no-thumbnail col-md-4 col-sm-6 col-12"><h3><a'+r.attr("href",s.link,!0,!0)+">"+r.escape(null==(e=s.title)?"":e)+"</a></h3><article>"+r.escape(null==(e=s.description)?"":e)+"</article></div>"}}}).call(this)}.call(this,"list"in a?a.list:"undefined"!=typeof list?list:void 0),n}},55:function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty;function a(t,e){return Array.isArray(t)?function(t,e){for(var n,r="",i="",l=Array.isArray(e),s=0;s<t.length;s++)(n=a(t[s]))&&(l&&e[s]&&(n=o(n)),r=r+i+n,i=" ");return r}(t,e):t&&"object"==typeof t?function(t){var e="",n="";for(var a in t)a&&t[a]&&r.call(t,a)&&(e=e+n+a,n=" ");return e}(t):t||""}function i(t){if(!t)return"";if("object"==typeof t){var e="";for(var n in t)r.call(t,n)&&(e=e+n+":"+t[n]+";");return e}return t+""}function l(t,e,n,r){if(!1===e||null==e||!e&&("class"===t||"style"===t))return"";if(!0===e)return" "+(r?t:t+'="'+t+'"');var a=typeof e;return"object"!==a&&"function"!==a||"function"!=typeof e.toJSON||(e=e.toJSON()),"string"==typeof e||(e=JSON.stringify(e),n||-1===e.indexOf('"'))?(n&&(e=o(e))," "+t+'="'+e+'"'):" "+t+"='"+e.replace(/'/g,"&#39;")+"'"}e.merge=function t(e,n){if(1===arguments.length){for(var r=e[0],a=1;a<e.length;a++)r=t(r,e[a]);return r}for(var l in n)if("class"===l){var s=e[l]||[];e[l]=(Array.isArray(s)?s:[s]).concat(n[l]||[])}else if("style"===l){s=(s=i(e[l]))&&";"!==s[s.length-1]?s+";":s;var o=i(n[l]);o=o&&";"!==o[o.length-1]?o+";":o,e[l]=s+o}else e[l]=n[l];return e},e.classes=a,e.style=i,e.attr=l,e.attrs=function(t,e){var n="";for(var s in t)if(r.call(t,s)){var o=t[s];if("class"===s){o=a(o),n=l(s,o,!1,e)+n;continue}"style"===s&&(o=i(o)),n+=l(s,o,!1,e)}return n};var s=/["&<>]/;function o(t){var e=""+t,n=s.exec(e);if(!n)return t;var r,a,i,l="";for(r=n.index,a=0;r<e.length;r++){switch(e.charCodeAt(r)){case 34:i="&quot;";break;case 38:i="&amp;";break;case 60:i="&lt;";break;case 62:i="&gt;";break;default:continue}a!==r&&(l+=e.substring(a,r)),a=r+1,l+=i}return a!==r?l+e.substring(a,r):l}e.escape=o,e.rethrow=function t(e,r,a,i){if(!(e instanceof Error))throw e;if(!("undefined"==typeof window&&r||i))throw e.message+=" on line "+a,e;var l,s,o,c;try{i=i||n(835).readFileSync(r,{encoding:"utf8"}),l=3,s=i.split("\n"),o=Math.max(a-l,0),c=Math.min(s.length,a+l)}catch(n){return e.message+=" - could not read from "+r+" ("+n.message+")",void t(e,null,a)}l=s.slice(o,c).map((function(t,e){var n=e+o+1;return(n==a?"  > ":"    ")+n+"| "+t})).join("\n"),e.path=r;try{e.message=(r||"Pug")+":"+a+"\n"+l+"\n\n"+e.message}catch(t){}throw e}},835:function(){}},e={};function n(r){var a=e[r];if(void 0!==a)return a.exports;var i=e[r]={exports:{}};return t[r](i,i.exports,n),i.exports}n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var r in e)n.o(e,r)&&!n.o(t,r)&&Object.defineProperty(t,r,{enumerable:!0,get:e[r]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},function(){"use strict";var t=jQuery,e=n.n(t),r=n(637),a=n.n(r);const i="meathill-blogs",l="meathill-latest";class s{constructor(t){this.$el=e()(t.el),this.news=0;let n=localStorage.getItem(i);this.latest=Number(localStorage.getItem(l)),n&&(n=JSON.parse(n),this.render(n)),this.latest||(this.latest=isNaN(Number(this.$el.data("latest")))?this.latest:Number(this.$el.data("latest"))),this.fetch()}fetch(){fetch("https://blog.meathill.com/feed").then((t=>t.text())).then(this.onSuccess.bind(this)).catch(s.onError)}parse(t){t=e()(t);let n=[],r=0,a=/^\w+:(\w+)$/,i=/\?p=(\d+)$/;return t.find("item").each(((t,e)=>{let s={};for(e=e.firstElementChild;e;){s[(e.namespaceURI&&e.tagName.match(a)>1?e.tagName.match(a)[1]:e.tagName).toLowerCase()]=e.textContent.replace(/<a.*>.*?<\/a>/,""),e=e.nextElementSibling}!s.link&&s.comments&&(s.link=s.comments.replace(/#respond$/,""));let o=parseInt(s.guid.match(i)[1]);if(0===t){if(o===this.latest)return!1;localStorage.setItem(l,o)}if(o>this.latest&&this.news++,n.push(s),r++,r>5)return!1})),this.news>0&&(this.news=this.news>=5?"5+":this.news,e()("#top-bar").find(".blog").append("<span>"+this.news+"</span>")),n}render(t){this.$el.html(a()({list:t}))}onSuccess(t){let e=this.parse(t),n=JSON.stringify(e);0!==e.length&&(e=e.map((t=>(t.thumbnail=t.thumbnail?t.thumbnail.replace("//blog.meathill.com/","//qiniu.meathill.com"):"",t))),localStorage.setItem(i,n),this.render(e))}static onError(t,e,n){}}const{forEach:o}=Array.prototype;let c=e()("#top-bar");const u=[...document.querySelectorAll("body > div[id]")].map((t=>t.getBoundingClientRect().top));window.addEventListener("scroll",(function(){const{scrollY:t}=window;c.toggleClass("bg-dark",t>10);for(let e=u.length-1;e>-1;e--)if(u[e]-t<73&&u[e]-t>-33){c.find("li").eq(e).addClass("active").siblings().removeClass("active");break}}));new s({el:"#blog-grid"});var h,f,m,d;h=window,f=document,m="ga",h.GoogleAnalyticsObject=m,h.ga=h.ga||function(){(h.ga.q=h.ga.q||[]).push(arguments)},h.ga.l=1*new Date,(d=f.createElement("script")).async=1,d.src="//www.google-analytics.com/analytics.js",document.body.append(d),ga("create","UA-26694288-7","auto"),ga("send","pageview")}()}();